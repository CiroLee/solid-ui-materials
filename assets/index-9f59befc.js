import{m as O,d as $,l as C,f as b,i as s,c as l,g as F,F as D,a as p,b as W,e as z,t as c,S as w}from"./index-4eab9465.js";import{S as H}from"./index-bda951f1.js";import{S as k}from"./index-2fd4dd8c.js";import{S as L}from"./index-69a26847.js";class P{constructor(e){this.config=e}grid=42;generate(){const{month:e,year:n,startWeekOnSunday:g}=this.config,i=this.getFirstDayOfMonth(e,n),f=this.getDaysInMonth(e,n),h=g?i.getDay():(i.getDay()+6)%7,a=[];for(let r=0;r<this.grid;r++)a.push(new Date(n,e-1,1+(r-h)));return{list:a,total:f}}getFirstDayOfMonth(e,n){return new Date(n,e-1,1)}getDaysInMonth(e,n){return new Date(n,e,0).getDate()}}const Y=c('<div><div class="s-calendar__week-bar"></div><div class="s-calendar__body">'),E=c("<li>"),I=c('<li class="s-calendar__body-item"><span>'),T=["日","一","二","三","四","五","六"],N=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],R=o=>{const e=O({value:new Date,startWeekOnSunday:!0,language:"zh",class:"",style:{}},o),[n,g]=$(new Date),i=t=>{g(t),o.onChange?.(t)},f=t=>{const u=new Date(t.getFullYear(),t.getMonth(),t.getDate()),_=new Date(n().getFullYear(),n().getMonth(),n().getDate());return u.getTime()===_.getTime()},h=t=>t.getMonth()===e.value.getMonth()&&t.getFullYear()===e.value.getFullYear(),a=C(()=>{let t=e.language==="zh"?T:N;if(!e.startWeekOnSunday){const u=[...t],_=u.shift();t=u.concat(_)}return t});b(()=>{g(e.value)});const r=C(()=>new P({month:e.value.getMonth()+1,year:e.value.getFullYear(),startWeekOnSunday:e.startWeekOnSunday}).generate());return(()=>{const t=Y(),u=t.firstChild,_=u.nextSibling;return s(t,l(F,{get when(){return e.header},get children(){return e.header}}),u),s(u,l(D,{get each(){return a()},children:m=>(()=>{const d=E();return s(d,m),d})()})),s(_,l(D,{get each(){return r().list},children:m=>(()=>{const d=I(),x=d.firstChild;return d.$$click=()=>i(m),s(x,()=>m.getDate()),p(v=>{const S=!h(m),y=!!f(m);return S!==v._v$&&d.classList.toggle("not-current-month",v._v$=S),y!==v._v$2&&d.classList.toggle("active",v._v$2=y),v},{_v$:void 0,_v$2:void 0}),d})()})),p(()=>W(t,`s-calendar ${e.class}`.replace(/\s{2,}/g," ").trim())),t})()},M=R;z(["click"]);const q=c('<div class="custom-header"><span class="custom-header__date">'),A=c("<div flex items-center justify-between><h3>SCalendar</h3><div><span hover:text-blue-600 text-gray cursor-pointer mr-4>code"),j=c("<h4>basic"),B=c("<p>date: "),Z=c("<h4>custom header"),G=c('<div class="flex items-center mb-4"><span ml-3>startWeekOnSunday: '),J=o=>(()=>{const e=q(),n=e.firstChild;return s(e,l(k,{outline:!0,shape:"square",size:"tiny",type:"primary",get onClick(){return o.onPrevChange},get children(){return l(w,{name:"arrow-left-s-line",size:"20px"})}}),n),s(n,()=>o.value.toLocaleDateString()),s(e,l(k,{outline:!0,shape:"square",size:"tiny",type:"primary",get onClick(){return o.onNextChange},get children(){return l(w,{name:"arrow-right-s-line",size:"20px"})}}),null),e})();function X(){const[o,e]=$(new Date),[n,g]=$(new Date("2023-7-1")),[i,f]=$(!0),h=a=>{const r=new Date(n());a==="prev"?r.setMonth(n().getMonth()-1):r.setMonth(n().getMonth()+1),g(r)};return[(()=>{const a=A(),r=a.firstChild,t=r.nextSibling;return t.firstChild,s(t,l(L,{path:"SAlert",name:"source"}),null),a})(),j(),(()=>{const a=B();return a.firstChild,s(a,()=>o().toLocaleDateString(),null),a})(),l(M,{class:"max-w-80%",get value(){return o()},onChange:e}),Z(),(()=>{const a=G(),r=a.firstChild;return r.firstChild,s(a,l(H,{get checked(){return i()},onChange:f}),r),s(r,()=>i()?"true":"false",null),a})(),l(M,{class:"max-w-80%",get startWeekOnSunday(){return i()},language:"en",get header(){return l(J,{onPrevChange:()=>h("prev"),onNextChange:()=>h("next"),get value(){return n()}})},get value(){return n()},onChange:g})]}export{X as default};
