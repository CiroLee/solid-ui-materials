import{d as m,f as w,o as E,c as g,i as $,a as y,b as x,g as R,e as L,t as p,u as T,k as H,F as A,S as D}from"./index-39bcc477.js";const F=p('<div class="s-popup"><div></div><div>'),P=e=>{let t,s;const[o,r]=m(!1),[c,C]=m(!1),[h,_]=m(!0),k=()=>{e.maskClosable&&(r(!1),e?.onCancel?.())};return w(()=>{e.show&&(C(!0),_(!1)),setTimeout(()=>{r(e.show)},0)}),w(()=>{e.show&&t&&t.addEventListener("transitionend",function(){!o()&&c()&&_(!0)})}),E(()=>{t&&t.removeEventListener("transitionend",function(){})}),g(R,{get when(){return e.show||!h()},get children(){const d=F(),n=d.firstChild,i=n.nextSibling;n.$$click=k;const u=t;typeof u=="function"?T(u,n):t=n;const f=s;return typeof f=="function"?T(f,i):s=i,$(i,()=>e.children),y(a=>{const b=`s-popup__mask ${e.isBlur?"s-popup__mask--blur":""}`.replace(/\s{2,}/g," ").trim(),v=!!o(),l=`s-popup__content ${e.placement||"center"}`,S=!!o();return b!==a._v$&&x(n,a._v$=b),v!==a._v$2&&n.classList.toggle("show",a._v$2=v),l!==a._v$3&&x(i,a._v$3=l),S!==a._v$4&&i.classList.toggle("show",a._v$4=S),a},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),d}})},j=P;L(["click"]);const O=e=>navigator.clipboard.writeText(e);var V=e=>{let t=new URLSearchParams;for(let[s,o]of Object.entries(e))t.append(s,o);return t.toString()};async function z(e,t={}){const s=t?.method;let o="",r="";s?.toLowerCase()==="get"&&t.params&&(o="?"+V(t.params)),r=JSON.stringify(t.body);const c=await fetch(e+o,{...t,body:r});return c.status<400?c.json():Promise.reject({status:c.status,msg:c.statusText})}const I=async e=>await z(`https://api.github.com/repos/CiroLee/solid-ui-materials/contents/src/${e}`),K=p('<div flex flex-col w-440px h-full bg-white p-12px overflow-hidden box-border><div flex></div><div flex-1 bg-red mt-3 overflow-auto p-12px rounded-1 relative bg="#2a272b" text-white><div absolute top-2 right-2 text-gray-3 p-4px rounded-1 cursor-pointer transition-all class="hover:bg-gray/40"></div><pre><code>'),N=p("<div inline-flex items-center h-44px px-16px cursor-default border-solid box-border>"),q=e=>{let t=0;const[s,o]=m(""),[r,c]=m(""),[C,h]=m(!1),_=async()=>{const n=[];for(const i of e.tabs){const u=await I(i.path);n.push({...i,code:u.content})}return n},k=n=>{O(n).then(()=>{clearTimeout(t),h(!0),t=window.setTimeout(()=>{h(!1)},500)})},[d]=H(_);return w(()=>{o(d()?.[0].name||"")}),w(()=>{c(window.atob(d()?.find(n=>n.name===s())?.code||""))}),g(j,{get show(){return e.show},maskClosable:!0,placement:"right",get onCancel(){return e.onCancel},get children(){const n=K(),i=n.firstChild,u=i.nextSibling,f=u.firstChild,a=f.nextSibling,b=a.firstChild;return $(i,g(A,{get each(){return d()},children:v=>(()=>{const l=N();return l.$$click=()=>o(v.name),$(l,()=>v.name),y(()=>x(l,`${s()===v.name?"text-black border-0 border-b-2px border-black":"text-gray border-0"} transition-all hover:text-black`)),l})()})),f.$$click=()=>k(r()),$(f,g(D,{get name(){return C()?"check-line":"clipboard-line"},size:"18px"})),$(b,r),n}})},U=q;L(["click"]);const B={"code-view":"code-view-module_code-view_3AF4z"};const G=p("<div>"),J=e=>(()=>{const t=G();return y(s=>{const o=B["code-view"],r=e.content;return o!==s._v$&&x(t,s._v$=o),r!==s._v$2&&(t.innerHTML=s._v$2=r),s},{_v$:void 0,_v$2:void 0}),t})(),Q=J;export{Q as C,j as S,U as a};
